<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kebab Knights Tavern</title>

<style>
:root{
  --panel: rgba(35,20,12,.8);
  --panel2: rgba(25,15,10,.65);
  --accent: #ffcf6a;
  --text: #f4ead7;
  --muted: rgba(244,234,215,.75);
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: monospace;
  color:var(--text);
  min-height:100vh;
}

/* Background */
.bg{
  position:fixed;
  inset:0;
  z-index:-3;
  background:url('bg.png') center/cover no-repeat;
  image-rendering: pixelated;
}

/* Fire Glow */
.fire-glow{
  position:fixed;
  inset:0;
  z-index:-2;
  pointer-events:none;
  opacity:.55;
  background:
    radial-gradient(700px 450px at 20% 85%, rgba(255,160,80,.3), transparent 60%),
    radial-gradient(900px 650px at 75% 85%, rgba(255,180,90,.15), transparent 65%);
  animation:flicker 3s infinite steps(6,end);
}

@keyframes flicker{
  0%{opacity:.45}
  25%{opacity:.6}
  50%{opacity:.5}
  75%{opacity:.65}
  100%{opacity:.45}
}

/* Layout */
header{
  text-align:center;
  padding:25px 15px 10px;
}

h1{
  margin:0;
  font-size:32px;
  text-shadow:0 8px 25px rgba(0,0,0,.7);
}

.subtitle{
  font-size:13px;
  color:var(--muted);
  margin-top:6px;
}

main{
  max-width:1100px;
  margin:20px auto 40px;
  padding:0 20px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

@media(max-width:900px){
  main{grid-template-columns:1fr;}
}

.card{
  background:var(--panel);
  padding:18px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 15px 40px rgba(0,0,0,.45);
}

h2{
  margin-top:0;
  font-size:16px;
}

/* Roster */
.roster{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:14px;
}

.member{
  text-align:center;
  padding:10px;
  background:var(--panel2);
  border-radius:12px;
  transition:.2s;
}

.member:hover{
  transform:translateY(-4px);
  box-shadow:0 10px 20px rgba(0,0,0,.5);
}

.member img{
  width:120px;
  height:auto;
  image-rendering:pixelated;
}

.name{
  font-weight:bold;
  margin-top:6px;
  color:var(--accent);
}

.role{
  font-size:12px;
  color:var(--muted);
}

/* Dice */
.controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  margin-bottom:10px;
}

input, select, button, textarea{
  font-family:inherit;
  background:var(--panel2);
  border:1px solid rgba(255,255,255,.2);
  color:var(--text);
  padding:8px;
  border-radius:8px;
}

button{
  cursor:pointer;
  font-weight:bold;
}

button:hover{
  border-color:var(--accent);
}

.dice-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:8px;
  margin-top:10px;
}

.result{
  margin-top:12px;
  font-size:24px;
  color:var(--accent);
}

.history{
  margin-top:10px;
  font-size:12px;
  max-height:250px;
  overflow:auto;
}

.history div{
  background:var(--panel2);
  padding:6px;
  border-radius:6px;
  margin-bottom:6px;
}

/* Notes */
textarea{
  width:100%;
  min-height:300px;
  resize:vertical;
}

.top-controls{
  text-align:center;
  margin-bottom:10px;
}

</style>
</head>

<body>

<div class="bg"></div>
<div class="fire-glow"></div>

<header>
  <h1>Kebab Knights Tavern</h1>
  <div class="subtitle">Roll true. Take notes. Let the hearth glow.</div>
</header>

<div class="top-controls">
  <button onclick="toggleSound()">ðŸ”ˆ Tavern</button>
</div>

<main>

<!-- ROSTER -->
<section class="card">
<h2>Kebab Knights</h2>
<div class="roster">
  <div class="member">
    <img src="members/jason.png">
    <div class="name">Jason</div>
    <div class="role">Dungeon Master</div>
  </div>

  <div class="member">
    <img src="members/ed.png">
    <div class="name">Ed</div>
    <div class="role">Knight of White Rims</div>
  </div>

  <div class="member">
    <img src="members/josh.png">
    <div class="name">Josh</div>
    <div class="role">Longhair Sentinel</div>
  </div>

  <div class="member">
    <img src="members/diana.png">
    <div class="name">Diana</div>
    <div class="role">Blade of Dawn</div>
  </div>

  <div class="member">
    <img src="members/sam.png">
    <div class="name">Sam</div>
    <div class="role">Arcane Flame</div>
  </div>

  <div class="member">
    <img src="members/savannah.png">
    <div class="name">Savannah</div>
    <div class="role">Tavern Trickster</div>
  </div>
</div>
</section>

<!-- DICE -->
<section class="card">
<h2>Dice Roller</h2>

<div class="controls">
  <label>#</label>
  <input id="count" type="number" value="1" min="1">
  <label>Mod</label>
  <input id="mod" type="number" value="0">
</div>

<div class="dice-grid">
  <button onclick="roll(4)">d4</button>
  <button onclick="roll(6)">d6</button>
  <button onclick="roll(8)">d8</button>
  <button onclick="roll(10)">d10</button>
  <button onclick="roll(12)">d12</button>
  <button onclick="roll(20)">d20</button>
  <button onclick="roll(100)">d100</button>
</div>

<div class="result" id="result"></div>
<div class="history" id="history"></div>

</section>

<!-- NOTES -->
<section class="card">
<h2>Session Notes</h2>
<textarea id="notes"></textarea>
</section>

</main>

<script>
function rand(max){ return Math.floor(Math.random()*max)+1; }

function roll(sides){
  let count = parseInt(document.getElementById("count").value)||1;
  let mod = parseInt(document.getElementById("mod").value)||0;

  let rolls=[];
  for(let i=0;i<count;i++) rolls.push(rand(sides));

  let sum = rolls.reduce((a,b)=>a+b,0);
  let total=sum+mod;

  document.getElementById("result").innerText =
    total+"  ["+rolls.join(", ")+"] "+(mod>=0?"+":"")+mod;

  let div=document.createElement("div");
  div.innerText=count+"d"+sides+": "+total;
  document.getElementById("history").prepend(div);
}

/* Notes auto save */
const notes=document.getElementById("notes");
notes.value=localStorage.getItem("kk_notes")||"";
notes.addEventListener("input",()=>{
  localStorage.setItem("kk_notes",notes.value);
});

/* Sound */
let audio=new Audio("tavern.mp3");
audio.loop=true;
audio.volume=.35;
let playing=false;

function toggleSound(){
  if(!playing){audio.play();playing=true;}
  else{audio.pause();playing=false;}
}
</script>

</body>
</html>
